!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.activeData=t():e.activeData=t()}(this,function(){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1)}([function(e,t,n){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Manager",function(){return i});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=function(){function Manager(e){_classCallCheck(this,Manager),this.isObservableSymbol=Symbol("isObservable"),this.observables=new WeakMap,this.cache=new WeakMap,this.options={enabled:!0,immediateReaction:!1},this.callStack=[],this.reactions=[],this.setOptions(e)}return r(Manager,[{key:"setOptions",value:function setOptions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=Object.assign(this.options,e)}},{key:"makeObservable",value:function makeObservable(e){var t=this;if(!e)return e;if(this.isObservable(e))return e;var n=this.observables.get(e);if(!n){var r=new Map;n=new Proxy(e,{get:function get(e,n){if(n===t.isObservableSymbol)return!0;if(t.callStack.length){var i=[].concat(_toConsumableArray(t.callStack)),a=i[i.length-1],o=r.get(n);o||(o=new Map,r.set(n,o),o.set(a.call,i)),o.has(a.call)||o.set(a.call,i)}var u=e[n];return u===Object(u)&&"function"!=typeof u?t.makeObservable(u):u},set:function set(e,n,i,a){if(t.callStack&&t.callStack.length)throw new Error("Changing observable objects is restricted inside computed properties and reaction functions!");if(i!==e[n]||Array.isArray(e)&&"length"===n){e[n]=i;var o=r.get(n);o&&o.forEach(function(e){e.reverse().some(function(e){var n=e.obj,r=e.call,i=t.cache.get(n).get(r);if(!i||!i.valid)return!0;i.valid=!1})}),r.delete(n),t.inRunSection||(t.options.immediateReaction?t.run():t.runDeferred())}return!0}}),this.observables.set(e,n)}return n}},{key:"makeUpdatable",value:function makeUpdatable(e,t){var n=this;return function(){var r=n.cache.get(e),i=void 0;if(r?i=r.get(t):(r=new Map,n.cache.set(e,r)),i||(i={valid:!1,value:void 0},r.set(t,i)),i.computing)return void console.warn("Detected cross reference inside computed properties! undefined will be returned to prevent infinite loop");if(i.valid)return i.value;i.computing=!0,n.callStack.push({obj:e,call:t});try{var a=void 0;a=this?n.observables.get(this):n;var o=t.call(a,a);return i.valid=!0,i.value=o,o}finally{i.computing=!1,n.callStack.pop()}}}},{key:"makeComputed",value:function makeComputed(e,t,n){return Object.defineProperty(e,t,{enumerable:!0,get:this.makeUpdatable(e,n)}),e}},{key:"makeReaction",value:function makeReaction(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=this.makeUpdatable(this,e);return n.reactions.push(r),t&&(this.options.immediateReaction?n.run():n.runDeferred()),{unregister:function unregister(){var e=n.reactions.indexOf(r);e>=0&&n.reactions.splice(e,1)},reaction:r}}},{key:"isObservable",value:function isObservable(e){return!0===e[this.isObservableSymbol]}},{key:"run",value:function run(e){if(this.options.enabled){this.inRunSection=!0;try{"function"==typeof e&&e(),this.runScheduled=!1,this.reactions.forEach(function(e){return e()}),"function"==typeof this.onAfterRun&&this.onAfterRun()}finally{this.inRunSection=!1}}}},{key:"runDeferred",value:function runDeferred(e){var t=this;if(this.options.enabled){this.inRunSection=!0;try{this.runScheduled||(this.runScheduled=setTimeout(function(){return t.run()})),"function"==typeof e&&e()}finally{this.inRunSection=!1}}}}]),Manager}();i.default=new i,i.default.Manager=i,t.default=i.default},function(e,t,n){e.exports=n(0).default}])});
//# sourceMappingURL=active-data.min.js.map